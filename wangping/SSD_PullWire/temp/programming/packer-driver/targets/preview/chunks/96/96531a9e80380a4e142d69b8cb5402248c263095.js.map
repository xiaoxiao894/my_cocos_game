{"version":3,"sources":["file:///D:/Cocos/PlayAble/SSD_PullWire/assets/JavaScript/Repo/RopeUtils.ts"],"names":["RopeUtils","DataManager","MathUtil","getPlotIndexByPos","pos","worldToLocal","Instance","sceneManger","node","len","cloudHideDistance","x","z"],"mappings":";;;sGAIqBA,S;;;;;;;;;;;;;;;;;;;;AAHZC,MAAAA,W,iBAAAA,W;;AACAC,MAAAA,Q,iBAAAA,Q;;;;;;;;;yBAEYF,S,GAAN,MAAMA,SAAN,CAAgB;AAC3B;AAC+B,eAAjBG,iBAAiB,CAACC,GAAD,EAAoB;AAC/CA,UAAAA,GAAG,GAAG;AAAA;AAAA,oCAASC,YAAT,CAAsBD,GAAtB,EAA2B;AAAA;AAAA,0CAAYE,QAAZ,CAAqBC,WAArB,CAAiCC,IAA5D,CAAN;AACA,cAAIC,GAAW,GAAG;AAAA;AAAA,0CAAYH,QAAZ,CAAqBI,iBAAvC;;AACA,cAAIN,GAAG,CAACO,CAAJ,GAAQF,GAAG,GAAG,CAAlB,EAAqB;AACjB,gBAAIL,GAAG,CAACQ,CAAJ,GAAQ,CAACH,GAAb,EAAkB;AACd;AACA,qBAAO,CAAP;AACH,aAHD,MAGO,IAAIL,GAAG,CAACQ,CAAJ,GAAQH,GAAZ,EAAiB;AACpB;AACA,qBAAO,CAAP;AACH;AACJ,WARD,MAQO,IAAIL,GAAG,CAACO,CAAJ,GAAQ,CAACF,GAAD,GAAO,CAAnB,EAAsB;AACzB,gBAAIL,GAAG,CAACQ,CAAJ,GAAQ,CAACH,GAAD,GAAO,CAAnB,EAAsB;AAClB;AACA,qBAAO,CAAP;AACH,aAHD,MAGO,IAAIL,GAAG,CAACQ,CAAJ,GAAQH,GAAZ,EAAiB;AACpB;AACA,qBAAO,CAAP;AACH;AACJ,WARM,MAQA;AACH,gBAAIL,GAAG,CAACQ,CAAJ,GAAQH,GAAZ,EAAiB;AACb;AACA,qBAAO,CAAP;AACH,aAHD,MAGO,IAAIL,GAAG,CAACQ,CAAJ,GAAQ,CAACH,GAAb,EAAkB;AACrB;AACA,qBAAO,CAAP;AACH;AACJ;;AACD,iBAAO,CAAC,CAAR;AACH;;AA/B0B,O","sourcesContent":["import { Vec3 } from \"cc\";\r\nimport { DataManager } from \"../Global/DataManager\";\r\nimport { MathUtil } from \"../Utils/MathUtils\";\r\n\r\nexport default class RopeUtils {\r\n    // 根据坐标获取当前所处的地块索引 -1中间地块\r\n    public static getPlotIndexByPos(pos: Vec3): number {\r\n        pos = MathUtil.worldToLocal(pos, DataManager.Instance.sceneManger.node)\r\n        let len: number = DataManager.Instance.cloudHideDistance;\r\n        if (pos.x > len - 4) {\r\n            if (pos.z < -len) {\r\n                //伐木场\r\n                return 4;\r\n            } else if (pos.z < len) {\r\n                //矿场\r\n                return 1;\r\n            }\r\n        } else if (pos.x > -len + 2) {\r\n            if (pos.z < -len + 4) {\r\n                //农场\r\n                return 0;\r\n            } else if (pos.z > len) {\r\n                //电厂\r\n                return 2;\r\n            }\r\n        } else {\r\n            if (pos.z > len) {\r\n                //左下角动物地块\r\n                return 5;\r\n            } else if (pos.z > -len) {\r\n                //左边油田\r\n                return 3;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n}"]}