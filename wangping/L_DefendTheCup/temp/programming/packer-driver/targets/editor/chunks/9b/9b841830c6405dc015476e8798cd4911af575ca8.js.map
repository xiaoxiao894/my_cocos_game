{"version":3,"sources":["file:///D:/Cocos/PlayAble/L_DefendTheCup/assets/JavaScript/Camera/FenceBloodBarManager.ts"],"names":["_decorator","Component","Quat","Vec3","ccclass","property","_lookAtTarget","_rotationQuat","FenceBloodBarManager","mainCamera","_startRot","start","newAngle","subtract","node","parent","eulerAngles"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAuBC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,I,OAAAA,I;;;;;;;;;OAC5C;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;AAGxBM,MAAAA,a,GAAgB,IAAIH,IAAJ,E;AAChBI,MAAAA,a,GAAgB,IAAIL,IAAJ,E;;sCAGTM,oB,WADZJ,OAAO,CAAC,sBAAD,C,gBAAR,MACaI,oBADb,SAC0CP,SAD1C,CACoD;AAAA;AAAA;AAAA,eAExCQ,UAFwC,GAE3B,IAF2B;AAAA,eAGxCC,SAHwC,GAGvB,IAAIP,IAAJ,CAAS,CAAC,EAAV,EAAa,IAAb,EAAkB,CAAlB,CAHuB;AAAA;;AAKhDQ,QAAAA,KAAK,GAAG;AACJ,cAAIC,QAAQ,GAAG,IAAIT,IAAJ,EAAf;AACAA,UAAAA,IAAI,CAACU,QAAL,CAAcD,QAAd,EAAuB,KAAKF,SAA5B,EAAsC,KAAKI,IAAL,CAAUC,MAAV,CAAiBC,WAAvD;AACA,eAAKF,IAAL,CAAUE,WAAV,GAAwBJ,QAAxB;AACH,SAT+C,CAWhD;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;;;AA3BgD,O","sourcesContent":["import { _decorator, Component, find, Node, Quat, Vec3 } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\nconst _lookAtTarget = new Vec3();\r\nconst _rotationQuat = new Quat();\r\n\r\n@ccclass('FenceBloodBarManager')\r\nexport class FenceBloodBarManager extends Component {\r\n\r\n    private mainCamera = null;\r\n    private _startRot:Vec3 = new Vec3(-45,47.5,0);\r\n\r\n    start() {\r\n        let newAngle = new Vec3();\r\n        Vec3.subtract(newAngle,this._startRot,this.node.parent.eulerAngles);\r\n        this.node.eulerAngles = newAngle;\r\n    }\r\n\r\n    // update(deltaTime: number) {\r\n    //     if (!this.mainCamera) return;\r\n\r\n    //     // 获取摄像机世界位置\r\n    //     const cameraWorldPos = this.mainCamera.worldPosition;\r\n\r\n    //     // 设置朝向目标点为摄像机位置\r\n    //     this.node.getWorldPosition(_lookAtTarget);\r\n\r\n    //     // 计算从当前节点位置指向摄像机方向的旋转\r\n    //     Vec3.subtract(_lookAtTarget, cameraWorldPos, _lookAtTarget);\r\n    //     _lookAtTarget.normalize();\r\n\r\n    //     Quat.fromViewUp(_rotationQuat, _lookAtTarget.negative(), Vec3.UP);\r\n\r\n    //     this.node.worldRotation = _rotationQuat;\r\n    // }\r\n}\r\n\r\n\r\n"]}