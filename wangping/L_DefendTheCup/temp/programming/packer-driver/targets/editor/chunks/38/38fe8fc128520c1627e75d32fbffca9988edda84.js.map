{"version":3,"sources":["file:///D:/Cocos/PlayAble/L_DefendTheCup/assets/JavaScript/Global/DataManager.ts"],"names":["_decorator","Vec3","Singleton","CollisionEntityEnum","EntityTypeEnum","ccclass","property","DataManager","prefabMap","Map","soundManager","arrow3DManager","gameEndManager","uiJoyStick","uiWarnManager","conveyerBeltManager","player","sceneManager","monsterManager","searchMonsters","pillarManager","UIPropertyManager","mainCamera","gridSystem","cardConManager","isNormalAttacking","arrowTargetNode","BossTipConManager","MinionConManager","cardDatas","card","Card1","partner","Partner1","Card2","Partner2","Card3","Partner3","guideTargetIndex","guideTargetList","isTouching","isDeactivateVirtualJoystick","landParcelRules","name","DeliveryAreas1","iconNumber","isUnlockPartners","DeliveryAreas2","DeliveryAreas3","DeliveryAreas4","DeliveryAreas5","DeliveryAreas6","DeliveryAreas7","DeliveryAreas8","DeliveryAreas9","DeliveryAreas10","weaponPos","pos","obstacleArr","guardrailArr","guardrailBlood","monsterSearchRange","doors","isGenerateWeapons","isConveyorBeltUnlocking","skillName","skill","effects","isInWeaponDeliveryArea","isGameEnd","isStartGame","isAllMinionsPassed","Instance","GetInstance"],"mappings":"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","sourcesContent":["import { _decorator, Prefab, Vec3, Node } from 'cc';\r\nimport Singleton from '../Base/Singleton';\r\nimport { PlayerManager } from '../Actor/PlayerManager';\r\nimport { CameraMain } from '../Camera/CameraMain';\r\nimport MonsterManager from '../Monster/MonsterManager';\r\nimport { GridSystem } from '../Grid/GridSystem';\r\nimport { CollisionEntityEnum, EntityTypeEnum } from '../Enum/Index';\r\nimport { CardConManager } from '../UI/CardConManager';\r\nimport PillarManager from '../pillars/PillarManager';\r\nimport { UIPropertyManager } from '../UI/UIPropertyManager';\r\nimport { SearchMonsters } from '../Actor/SearchMonsters';\r\nimport { BossTipConMananger } from '../Tip/BossTipConMananger';\r\nimport { SceneManager } from '../Scene/SceneManager';\r\nimport { ConveyerBeltManager } from '../Actor/ConveyerBeltManager';\r\nimport { MinionConManager } from '../Actor/MinionConManager';\r\nimport { UIWarnManager } from '../UI/UIWarnManager';\r\nimport { UIJoyStick } from '../UI/UIJoyStick';\r\nimport { GameEndManager } from '../UI/GameEndManager';\r\nimport { Arrow3DManager } from '../Actor/Arrow3DManager';\r\nimport { SoundManager } from '../Sounds/SoundManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('DataManager')\r\nexport class DataManager extends Singleton {\r\n    static get Instance() {\r\n        return super.GetInstance<DataManager>();\r\n    }\r\n\r\n    prefabMap: Map<string, Prefab> = new Map();\r\n\r\n    soundManager: SoundManager;\r\n    arrow3DManager: Arrow3DManager;\r\n    gameEndManager: GameEndManager;\r\n    uiJoyStick: UIJoyStick;\r\n    uiWarnManager: UIWarnManager;\r\n    conveyerBeltManager: ConveyerBeltManager\r\n    player: PlayerManager;\r\n    sceneManager: SceneManager\r\n    monsterManager: MonsterManager;\r\n    searchMonsters: SearchMonsters;\r\n    pillarManager: PillarManager;\r\n    UIPropertyManager: UIPropertyManager\r\n    mainCamera: CameraMain = null;\r\n    gridSystem: GridSystem;\r\n    cardConManager: CardConManager;\r\n    isNormalAttacking = true;                   // 是否可以普通攻击,    \r\n    arrowTargetNode = null;                      // 箭头指向目标位置\r\n    BossTipConManager: BossTipConMananger;\r\n    MinionConManager: MinionConManager;\r\n    cardDatas = [{\r\n        card: EntityTypeEnum.Card1,\r\n        partner: EntityTypeEnum.Partner1\r\n    }, {\r\n        card: EntityTypeEnum.Card2,\r\n        partner: EntityTypeEnum.Partner2\r\n    }, {\r\n        card: EntityTypeEnum.Card3,\r\n        partner: EntityTypeEnum.Partner3\r\n    }]\r\n\r\n    guideTargetIndex = -1;\r\n    guideTargetList = [];\r\n\r\n    isTouching = false;\r\n\r\n    isDeactivateVirtualJoystick = false;\r\n\r\n    landParcelRules = [\r\n        {\r\n            name: CollisionEntityEnum.DeliveryAreas1,       // 地块名称\r\n            iconNumber: 5,                                  // 需要金币数量 \r\n            isUnlockPartners: false                         // 是否解锁伙伴\r\n        },\r\n        {\r\n            name: CollisionEntityEnum.DeliveryAreas2,       // 地块名称\r\n            iconNumber: 5,                                  // 需要金币数量 \r\n            isUnlockPartners: false                         // 是否解锁伙伴\r\n        },\r\n        {\r\n            name: CollisionEntityEnum.DeliveryAreas3,       // 地块名称\r\n            iconNumber: 25,                                  // 需要金币数量 \r\n            isUnlockPartners: true                         // 是否解锁伙伴\r\n        },\r\n        {\r\n            name: CollisionEntityEnum.DeliveryAreas4,       // 地块名称\r\n            iconNumber: 25,                                  // 需要金币数量 \r\n            isUnlockPartners: true                         // 是否解锁伙伴\r\n        },\r\n        {\r\n            name: CollisionEntityEnum.DeliveryAreas5,       // 地块名称\r\n            iconNumber: 25,                                  // 需要金币数量 \r\n            isUnlockPartners: true                         // 是否解锁伙伴\r\n        },\r\n        {\r\n            name: CollisionEntityEnum.DeliveryAreas6,       // 地块名称\r\n            iconNumber: 40,                                 // 需要金币数量        只要有一个角色解锁，这个就显示   解锁这个解锁场景1，\r\n            isUnlockPartners: false                         // 是否解锁伙伴\r\n        },\r\n        {\r\n            name: CollisionEntityEnum.DeliveryAreas7,       // 地块名称\r\n            iconNumber: 45,                                  // 需要金币数量         解锁铁匠铺         送一个弓之后  解锁60出暗送带，80下一个\r\n            isUnlockPartners: false                         // 是否解锁伙伴\r\n        },\r\n        {\r\n            name: CollisionEntityEnum.DeliveryAreas8,       // 地块名称\r\n            iconNumber: 25,                                  // 需要金币数量        \r\n            isUnlockPartners: false                         // 是否解锁伙伴\r\n        },\r\n        {\r\n            name: CollisionEntityEnum.DeliveryAreas9,       // 地块名称\r\n            iconNumber: 60,                                 // 需要金币数量 \r\n            isUnlockPartners: false                         // 是否解锁伙伴\r\n        },\r\n        {\r\n            name: CollisionEntityEnum.DeliveryAreas10,       // 地块名称\r\n            iconNumber: 80,                                  // 需要金币数量                   解锁场景2，  结束\r\n            isUnlockPartners: false                         // 是否解锁伙伴\r\n        },\r\n    ]\r\n\r\n    // 武器位置坐标\r\n    weaponPos = [{\r\n        pos: new Vec3(-0.918, -1.139, -2.053),\r\n    }, {\r\n        pos: new Vec3(0.29, -1.139, -2.053)\r\n    }, {\r\n        pos: new Vec3(1.517, -1.139, -2.053)\r\n    }]\r\n\r\n    // 障碍物\r\n    obstacleArr = [];\r\n\r\n    // 栅栏\r\n    guardrailArr: Guardrail[] = [];\r\n\r\n    //栅栏血量\r\n    guardrailBlood = 250;\r\n\r\n    // 怪物查找范围\r\n    monsterSearchRange = 5;\r\n\r\n    // 四个门\r\n    doors = [];\r\n\r\n    // 是否开始生成武器\r\n    isGenerateWeapons = false;\r\n\r\n    // 传送带是否解锁\r\n    isConveyorBeltUnlocking = false;\r\n\r\n    // 特效名字对应\r\n    skillName = [\r\n        {\r\n            name: \"Partner1-L\",\r\n            skill: \"\",\r\n            effects: \"\"\r\n        },\r\n        {\r\n            name: \"Partner2-L\",\r\n            skill: \"\",\r\n            effects: \"\"\r\n        },\r\n        {\r\n            name: \"Partner3-L\",\r\n            skill: \"\",\r\n            effects: \"\"\r\n        },\r\n        {\r\n            name: \"Partner4-L\",\r\n            skill: \"\",\r\n            effects: \"\"\r\n        }, {\r\n            name: \"Partner5-L\",\r\n            skill: \"\",\r\n            effects: \"\"\r\n        }\r\n    ]\r\n\r\n    // 武器队列\r\n    isInWeaponDeliveryArea = false;\r\n\r\n    // 是否结束游戏\r\n    isGameEnd = false;\r\n\r\n    // 是否开始游戏\r\n    isStartGame = false;\r\n\r\n    // 小兵 ,开关门\r\n    isAllMinionsPassed = true;\r\n}\r\n\r\nexport type Guardrail = {\r\n    node: Node,\r\n    attackingMonsterCount: number,\r\n    blood: number\r\n}\r\n\r\n"]}