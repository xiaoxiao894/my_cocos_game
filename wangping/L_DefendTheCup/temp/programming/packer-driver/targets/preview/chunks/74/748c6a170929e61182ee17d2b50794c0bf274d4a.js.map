{"version":3,"sources":["file:///D:/Cocos/PlayAble/L_DefendTheCup/assets/JavaScript/Camera/CameraMain.ts"],"names":["_decorator","Camera","Component","Node","v3","Vec3","DataManager","ccclass","property","tempPos","CameraMain","initialDirection","start","Instance","mainCamera","subtract","node","worldPosition","target","update","dt","add","camera","setWorldPosition"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAmBC,MAAAA,E,OAAAA,E;AAAIC,MAAAA,I,OAAAA,I;;AACtDC,MAAAA,W,iBAAAA,W;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;AAE1BS,MAAAA,O,GAAgBL,EAAE,E;;4BAGTM,U,WADZH,OAAO,CAAC,YAAD,C,UAEHC,QAAQ,CAACL,IAAD,C,UAGRK,QAAQ,CAACP,MAAD,C,2BALb,MACaS,UADb,SACgCR,SADhC,CAC0C;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAOtCS,gBAPsC,GAObP,EAAE,EAPW;AAAA;;AAQtCQ,QAAAA,KAAK,GAAG;AACJ;AAAA;AAAA,0CAAYC,QAAZ,CAAqBC,UAArB,GAAkC,IAAlC;AAEAT,UAAAA,IAAI,CAACU,QAAL,CAAc,KAAKJ,gBAAnB,EAAqC,KAAKK,IAAL,CAAUC,aAA/C,EAA8D,KAAKC,MAAL,CAAaD,aAA3E;AACH;;AAEDE,QAAAA,MAAM,CAACC,EAAD,EAAa;AACff,UAAAA,IAAI,CAACgB,GAAL,CAASZ,OAAT,EAAkB,KAAKS,MAAL,CAAYD,aAA9B,EAA6C,KAAKN,gBAAlD;;AAEA,cAAI,KAAKW,MAAT,EAAiB;AACb,iBAAKA,MAAL,CAAYN,IAAZ,CAAiBO,gBAAjB,CAAkCd,OAAlC;AACH;AACJ;;AApBqC,O;;;;;iBAEhB,I;;;;;;;iBAGE,I","sourcesContent":["import { _decorator, Camera, Component, Node, Quat, tween, v3, Vec3 } from 'cc';\r\nimport { DataManager } from '../Global/DataManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\nlet tempPos: Vec3 = v3();\r\n\r\n@ccclass('CameraMain')\r\nexport class CameraMain extends Component {\r\n    @property(Node)\r\n    target: Node | null = null;\r\n\r\n    @property(Camera)\r\n    camera: Camera | null = null;\r\n\r\n    initialDirection: Vec3 = v3();\r\n    start() {\r\n        DataManager.Instance.mainCamera = this;\r\n\r\n        Vec3.subtract(this.initialDirection, this.node.worldPosition, this.target!.worldPosition);\r\n    }\r\n\r\n    update(dt: number) {\r\n        Vec3.add(tempPos, this.target.worldPosition, this.initialDirection);\r\n\r\n        if (this.camera) {\r\n            this.camera.node.setWorldPosition(tempPos)\r\n        }\r\n    }\r\n}\r\n"]}