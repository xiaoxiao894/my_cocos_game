{"version":3,"sources":["file:///D:/Cocos/PlayAble/L_DefendTheCup/assets/JavaScript/UI/UIWarnManager.ts"],"names":["_decorator","Component","tween","UIOpacity","DataManager","ccclass","property","UIWarnManager","_isTrue","start","Instance","uiWarnManager","node","active","playWarnFadeAnimation","opacity","getComponent","addComponent","to","easing","call"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,S,OAAAA,S;;AACpCC,MAAAA,W,iBAAAA,W;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;+BAGjBO,a,WADZF,OAAO,CAAC,eAAD,C,gBAAR,MACaE,aADb,SACmCN,SADnC,CAC6C;AAAA;AAAA;AAAA,eACjCO,OADiC,GACvB,IADuB;AAAA;;AAGzCC,QAAAA,KAAK,GAAG;AACJ;AAAA;AAAA,0CAAYC,QAAZ,CAAqBC,aAArB,GAAqC,IAArC;AAEA,eAAKC,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACH;;AAEDC,QAAAA,qBAAqB,GAAG;AAAA;;AACpB,cAAI,CAAC,KAAKN,OAAV,EAAmB;AACnB,eAAKA,OAAL,GAAe,KAAf;AAEA,eAAKI,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA,cAAME,OAAO,GAAG,oBAAKH,IAAL,gCAAWI,YAAX,CAAwBb,SAAxB,sBAAsC,KAAKS,IAA3C,qBAAsC,YAAWK,YAAX,CAAwBd,SAAxB,CAAtC,CAAhB;AACAY,UAAAA,OAAO,CAACA,OAAR,GAAkB,CAAlB;AAEAb,UAAAA,KAAK,CAACa,OAAD,CAAL,CACKG,EADL,CACQ,GADR,EACa;AAAEH,YAAAA,OAAO,EAAE;AAAX,WADb,EAC+B;AAAEI,YAAAA,MAAM,EAAE;AAAV,WAD/B,EACuD;AADvD,WAEKD,EAFL,CAEQ,GAFR,EAEa;AAAEH,YAAAA,OAAO,EAAE;AAAX,WAFb,EAE6B;AAAEI,YAAAA,MAAM,EAAE;AAAV,WAF7B,EAEsD;AAFtD,WAGKC,IAHL,CAGU,MAAM;AACR,iBAAKR,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACA,iBAAKL,OAAL,GAAe,IAAf;AACH,WANL,EAOKC,KAPL;AAQH;;AAzBwC,O","sourcesContent":["import { _decorator, Component, Node, tween, UIOpacity } from 'cc';\r\nimport { DataManager } from '../Global/DataManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UIWarnManager')\r\nexport class UIWarnManager extends Component {\r\n    private _isTrue = true;\r\n\r\n    start() {\r\n        DataManager.Instance.uiWarnManager = this;\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    playWarnFadeAnimation() {\r\n        if (!this._isTrue) return;\r\n        this._isTrue = false;\r\n\r\n        this.node.active = true;\r\n        const opacity = this.node?.getComponent(UIOpacity) || this.node?.addComponent(UIOpacity);\r\n        opacity.opacity = 0;\r\n\r\n        tween(opacity)\r\n            .to(0.5, { opacity: 255 }, { easing: 'quadOut' })  // 渐显\r\n            .to(0.5, { opacity: 0 }, { easing: 'quadIn' })    // 渐隐\r\n            .call(() => {\r\n                this.node.active = false;\r\n                this._isTrue = true;\r\n            })\r\n            .start();\r\n    }\r\n}\r\n\r\n\r\n"]}